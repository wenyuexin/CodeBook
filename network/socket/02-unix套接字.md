# unix套接字

‌**‌[Unix套接字](https://www.baidu.com/s?wd=Unix%E5%A5%97%E6%8E%A5%E5%AD%97&usm=1&ie=utf-8&rsv_pq=d1c74857001037fe&oq=unix%E5%A5%97%E6%8E%A5%E5%AD%97&rsv_t=ada1kCEFTFOrHPpmYhNJTbQrKfuwPTF5yj0nATb6ICLHb1sZ8pvnKPKy1T0&sa=re_dqa_generate)**‌是一种用于在同一台主机上的进程之间进行通信的机制，它不依赖于网络协议栈，而是直接在主机的文件系统中创建特殊文件来进行通信。‌

Unix套接字的工作原理主要包括以下几个步骤：

1. ‌**创建套接字**‌：进程通过调用`socket`系统调用创建一个Unix域套接字，返回一个文件描述符，用于后续的操作。
2. ‌**绑定套接字**‌：进程将套接字绑定到一个文件系统中的路径，这个路径可以是一个已经存在的文件或一个不存在的文件。
3. ‌**监听连接**‌（可选）：如果进程是服务器，可以调用`listen`系统调用来监听连接请求。
4. ‌**连接套接字**‌：客户端进程通过调用`connect`系统调用来连接到服务器。
5. ‌**读写数据**‌：一旦连接建立，进程可以通过`read`和`write`系统调用来读写数据。
6. ‌**关闭套接字**‌：通过调用`close`系统调用来关闭套接字，释放资源并终止通信。‌

Unix套接字的应用场景包括跨进程通信、进程间共享数据等，适用于需要快速、可靠的本地通信的场景。

具体实现方式上，Unix套接字通过在主机的文件系统中创建特殊文件来进行通信，不需要经过网络协议栈的数据传输，从而提高了通信的性能和效率。

## 对比tcp套接字

|     | unix套接字                   | tcp/ip套接字               |
| --- | ------------------------- | ----------------------- |
|     | 进程间通信（ipc）套接字             | 传输控制协议/互联网协议(tcp/ip)套接字 |
| 功能  | 同一台机器上的进程间通信              | 不同机器上程序间通信              |
| 要求  | 无需主机名和端口号                 | 需要主机名和端口号               |
| 性能  | 在统一系统上运行，避免一些检查和操作，通信速度较快 | 相对更慢                    |

## 套接字编程常用操作

创建套接字

绑定套接字

监听连接

接受连接

收发数据

关闭套接字



---

参考

- https://blog.csdn.net/tilblackout/article/details/134611280
