# B树与B+树

本节主要涉及B树和B+树，顺带讲解B*树

<br>

#### B树

B树是对二叉查找树的改进。它的设计思想是，将相关数据尽量集中在一起，以便一次读取多个数据，减少硬盘操作次数。B树为系统最优化大块数据的读和写操作。B树算法减少定位记录时所经历的中间过程，从而加快存取速度。普遍运用在数据库和文件系统。

B 树可以看作是对2-3查找树的一种扩展，即他允许每个节点有M-1个子节点。B树的结构要求： 

* 根节点至少有两个子节点 
* 每个节点有M-1个key，并且以升序排列 
* 位于M-1和M key的子节点的值位于M-1 和M key对应的Value之间 
* 其它节点至少有M/2个子节点 
* 所有叶子节点都在同一层 

![b-tree](https://img-blog.csdn.net/20161117122843822)

#### B+树

B+树是B-树的变体，也是一种多路搜索树。其定义基本与B-树同，除了： 

* 非叶子结点的子树指针与关键字个数相同； 
* 非叶子结点的子树指针P[i]，指向关键字值属于(K[i], K[i+1])的子树（B-树是开区间）； 
* 为所有叶子结点增加一个链指针； 
* 所有关键字都在叶子结点出现； 

![b+tree](https://img-blog.csdn.net/20161117125909273)

B+树简单的说就是变成了一个索引一样的东西。 B+的搜索与B-树也基本相同，区别是B+树只有达到叶子结点才命中（B-树可以在非叶子结点命中），B+树的性能相当于是给叶子节点做一次二分查找。

B+树只有叶子节点存的是Key-value，非叶子节点只需要存储key就好了。

#### B*树

接下来要说明的就是B\*树，B\*树是对B+树进行的又一次的升级。在B+树的非根和非叶子结点再增加指向兄弟的指针；

![b*tree](https://img-blog.csdn.net/20161117130350197)


在B+树基础上，为非叶子结点也增加链表指针，将结点的最低利用率从1/2提高到2/3；

在这比如说当你进行插入节点的时候，它首先是放到兄弟节点里面。如果兄弟节点满了的话，进行分裂的时候从兄弟节点和这个节点各取出1/3，放入新建的节点当中，这样也就实现了空间利用率从1/2到1/3。








<br>

---

**参考资料**

1.  [浅析——B树，B+树，B*树以及分析MySQL的两种引擎](https://blog.csdn.net/qq_26768741/article/details/53164202)
2. 